<!DOCTYPE html>
<html>
    <head>
        <title>
            Ali Alkhatib: Markdown Extension Regex
        </title>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css"> -->
        <!-- <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'> -->
        <!-- <link href='http://fonts.googleapis.com/css?family=PT+Sans:400' rel='stylesheet' type='text/css'> -->
        <link rel="stylesheet" href="https://ali-alkhatib.com/media/main.css">
        <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
        
        <!-- <link rel="alternate" type="application/rss+xml" href="/blog.xml" title="Atom"> -->

        
        
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@alialkhatib_">
        <meta name="twitter:creator" content="@alialkhatib_">
        <meta name="twitter:title" content="Markdown Extension Regex">
        <meta name="twitter:description"
            content="First, the part you probably care about (a regex pattern to identify Markdown files): ">

        <meta name="og:type" content="article">
        <meta name="og:title" content="Markdown Extension Regex">
        <meta name="og:description"
            content="First, the part you probably care about (a regex pattern to identify Markdown files): ">
        
    </head>
    <body>
        <div class="container">
<header>
                <div id="leader">
                    <ol class="breadcrumb">
                    <li><h1><a href="/">Ali Alkhatib</a></h1></li>
                    
                    
                    <li><a href="/blog">blog</a></li>
                    <!-- <li><a href="/blog">Markdown Extension Regex</a></li> -->
                    
                </div>
                
            </header>
<div class="col-md-8" role="main">
            <h2 class="with-tagline">Markdown Extension Regex</h2>
<p class="tagline">12 October 2014</p>

<article class="full">
<p>First, the part you probably care about (a regex pattern to identify Markdown files): <script src="https://gist.github.com/alialkhatib/fa11e17f385db6970cc3.js"> </script></p>

<p>Okay, let&rsquo;s begin&hellip;</p>

<p>Recently I was avoiding some work with a personal project and I realized that I needed to find all of the Markdown files in a directory. I use <code>.md</code> consistently in my own projects, but I&rsquo;m sure in collaborative settings (or indeed across projects) the file extension differs significantly. Indeed, <a href="//superuser.com/questions/249436/file-extension-for-markdown-files">this StackOverflow question</a> suggested half a dozen file extensions.</p>

<p>I didn&rsquo;t do much looking (and in hindsight, I should do that at some point to check my answer) before I decided to write up the pattern for a Markdown extension myself based on the accepted answer. I could (perhaps should) have used the canonical Markdown source on what extensions should be used, but</p>

<ol>
  <li>That made for a less interesting challenge (I&rsquo;ll explain in the next line)</li>
  <li>I wasn&rsquo;t adhering to that prescription anyway (nor was most of Github - a cursory search (another thing I should revisit later) yields relatively few <code>.markdown</code> extension files in favor of <code>.md</code> even accounting somewhat for the bias Github creates by creating <code>readme.md</code> files - again, I should come back to this later)</li>
</ol>

<p>I think it&rsquo;s a fairly simple pattern as far as regex goes, but that speaks more to how bizarre regex naturally looks than anything else. Walking through it can be difficult, but I find it&rsquo;s easiest to read it from the outside inward, like peeling an onion.</p>

<p>If you want to cry while reading regex patterns, that&rsquo;s fine too. Let&rsquo;s begin:</p>

<ul>
  <li><code>.*\.</code>&hellip;<code>$</code>: These are sort of loose ends, so they&rsquo;ll go together, but they serve a single purpose together. <code>.*\.</code> means &ldquo;I&rsquo;m looking for <em>any</em> character in any length (including zero characters) followed by a litteral <code>.</code>&rdquo; (hence the backslash). <code>$</code> is a regex special character meaning &ldquo;end of string&rdquo;. It might be unique in Python&rsquo;s implementation of regex (although I doubt it) that in <em>multiline</em> strings, <code>$</code> means &ldquo;end of line&rdquo;. Worth knowing, and as an aside if you want to search multiple lines there&rsquo;s <a href="//docs.python.org/3.4/library/re.html#re.M">a way to do that</a>.</li>
  <li><code>(m</code>&hellip;<code>|text)</code> - this means &ldquo;I&rsquo;m either looking for <code>m</code>+whatever weird extras I ask for, or <code>text</code>&rdquo;</li>
  <li><code>(?:</code>&hellip;<code>)</code> - given the previous option (between <code>m</code> and <code>text</code>), if we&rsquo;re going down the <code>m</code> path then you need to find something matching in this group. The <code>?:</code> modifier tells the engine not to capture it as its own &ldquo;group&rdquo;. As far as I can tell, this isn&rsquo;t really that important except that retaining groups from these little bits and pieces is unnecessary, so why bother?</li>
  <li><code>d</code>&hellip;<code>|arkdown|kdn?</code> - I&rsquo;m lumping things together so this post doesn&rsquo;t go forever. I&rsquo;m either looking for <code>d</code> or <code>arkdown</code> (forming <code>markdown</code>, thanks to that previous <code>m</code>), or <code>kdn</code> (again, forming <code>mkdn</code>). Here it&rsquo;s becoming clearer to me that we could&rsquo;ve made this slightly more concise. I might revisit it later.</li>
  <li><code>(?:te?xt|o?wn)?</code> - this is one of those mistakes you know you&rsquo;re making in the moment but can&rsquo;t help but make anyway; like all decisions one makes while drunk (except I wasn&rsquo;t drunk while writing this, which would be a convenient excuse) - I&rsquo;m looking not to capture (<code>?:</code>) either <code>txt</code> with an optional <code>e</code> <em>or</em> an optional <code>o</code> followed by <code>wn</code>. All of this is optional. This can result in patterns like <code>mdtxt</code>, <code>mdtext</code>, <code>mdwn</code>, <code>mdown</code>, or simply <code>md</code>.</li>
</ul>

<p>So that&rsquo;s it. I might revisit the <code>arkdown</code> cop-out later, since I&rsquo;m sure there must be some clever way to integrate that in the existing pattern, but it&rsquo;s worth pointing out that you could solve this problem another way, much more legibly, in Python:</p>

<script src="https://gist.github.com/alialkhatib/aef135321ad92e3328fd.js"> </script>

<p>The advantage of this is that it&rsquo;s about a million times more readable. We&rsquo;re looking for any of the things in the list at the top, which we can read and edit much more easily.</p>

<p>An hour wasted writing this post? Maybe. Let me know if this post helped, made you laugh, or inspired you in some way.</p>

</article>

<footer>If you have something to say about this post, 
<a href="mailto:ali.alkhatib@cs.stanford.edu">email me</a> or 
<a href="https://twitter.com/alialkhatib_">tweet</a> at me.
</footer>
</div>
            
            <div class="col-md-4">
                    <nav class="tabbable tabs-right">
                        
                        <a class="nav nav-tabs"
                            
                            href="/">
                            home
                        </a>
                        
                        <a class="nav nav-tabs"
                            
                            href="/research.html">
                            research
                        </a>
                        
                        <a class="nav nav-tabs"
                            
                                class="active"
                            
                            href="/blog/">
                            blog
                        </a>
                        
                        <a class="nav nav-tabs"
                            
                            href="/contact.html">
                            contact
                        </a>
                        
                    </nav>
                </div>
            
        </div>

        

        <!-- Google Analytics -->
        <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-20760409-1', 'washington.edu');
ga('send', 'pageview');
        </script>
    </body>
</html>
